application:
  name: ride-prediction
  version: 1.00
thorntail:
  port:
    offset: 5
  microprofile:
    # https://docs.thorntail.io/2.5.0.Final/#_microprofile_jwt_rbac_auth
    jwt:
      realm: "rideprediction"
      claims:
        groups: "strava:athlete"
      token:
        header: "Cookie"
        cookie: "idtoken"
        signer-pub-key-location: "https://rideprediction.eu.auth0.com/.well-known/jwks.json"
        jwks-refresh-interval: 1440
        issued-by: "https://rideprediction.eu.auth0.com/"

  logging:
    pattern-formatters:
      PATTERN:
        pattern: "%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c] (%t) [%X{traceId}/%X{spanId}] - %s%e%n"
    periodic-size-rotating-file-handlers:
#      FILE:
#        file:
#          path: ${logging.path}/shoppingcart.log
#        suffix: .yyyy-MM-dd
#        named-formatter: PATTERN
#        rotate-on-boot: true
#        rotate-size: 10m
    console-handlers:
      CONSOLE:
        named-formatter: PATTERN
    root-logger:
      level: INFO
      handlers:
      - CONSOLE
      # - FILE
  undertow:
    filter-configuration:
      response-headers:
        access-control-allow-origin:
          # for testing purposes allow every origin
          header-name: Access-Control-Allow-Origin
          header-value: "*"
        access-control-allow-methods:
          header-name: Access-Control-Allow-Methods
          header-value: GET, POST, PUT, DELETE, OPTIONS
        access-control-max-age:
          header-name: Access-Control-Max-Age
          header-value: -1
        access-control-allow-headers:
          header-name: Access-Control-Allow-Headers
          header-value: Origin, X-Requested-With, Content-Type, Accept
    servers:
      default-server:
        hosts:
          default-host:
            filter-refs:
              access-control-allow-origin:
                priority: 1
              access-control-allow-methods:
                priority: 1
              access-control-max-age:
                priority: 1
              access-control-allow-headers:
                priority: 1
resteasy:
  preferJacksonOverJsonB: false
